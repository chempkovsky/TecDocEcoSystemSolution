@using CarShop.Properties;
@model TecDocEcoSystemDbClassLibrary.EnterpriseCategoryItemTDES

@{
    ViewBag.Title = Resources.DELETE_ACTION;
    Guid? SearchEntGuid = ViewBag.SearchEntGuid;
    String EntDescription = ViewBag.EntDescription;
    int? CategoryId = ViewBag.CategoryId;
    string EntCategoryDescription = ViewBag.EntCategoryDescription;
}

<h2>@Resources.DELETE_ACTION</h2>

@if (!CategoryId.HasValue)
{
    <ol class="breadcrumb">
        <li>@Html.ActionLink(Resources.EnterpriseTDES_INDEX, "Index", "Enterprises")</li>
        @if (SearchEntGuid.HasValue)
    {
            <li>@Html.ActionLink(EntDescription, "Details", "Enterprises", new { id = SearchEntGuid }, new { })</li>
            <li>@Html.ActionLink(Resources.EnterpriseCategoryTDES_INDEX, "Index", "EnterpriseCategory", new { searchEntGuid = SearchEntGuid }, new { })</li>
        if (CategoryId.HasValue)
        {
            <li>@Html.ActionLink(EntCategoryDescription, "Details", "EnterpriseCategory", new { searchEntGuid = SearchEntGuid, сategoryId = CategoryId }, new { })</li>
            <li>@Html.ActionLink(Resources.EnterpriseCategoryItemTDES_INDEX, "Index", "EnterpriseCategoryItem", new { searchEntGuid = SearchEntGuid, categoryId = CategoryId }, new { })</li>
        }

    }
    </ol>

    @Html.ValidationSummary(true)
} else {


<h3>@Resources.SURE_TO_DELETE</h3>
<div>
    <ol class="breadcrumb">
        <li>@Html.ActionLink(Resources.EnterpriseTDES_INDEX, "Index", "Enterprises")</li>
        @if (SearchEntGuid.HasValue)
        {
            <li>@Html.ActionLink(EntDescription, "Details", "Enterprises", new { id = SearchEntGuid }, new { })</li>
            <li>@Html.ActionLink(Resources.EnterpriseCategoryTDES_INDEX, "Index", "EnterpriseCategory", new { searchEntGuid = SearchEntGuid }, new { })</li>
            if (CategoryId.HasValue)
            {
                <li>@Html.ActionLink(EntCategoryDescription, "Details", "EnterpriseCategory", new { searchEntGuid = SearchEntGuid, сategoryId = CategoryId }, new { })</li>
                <li>@Html.ActionLink(Resources.EnterpriseCategoryItemTDES_INDEX, "Index", "EnterpriseCategoryItem", new { searchEntGuid = SearchEntGuid, categoryId = CategoryId }, new { })</li>
            }

        }
    </ol>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.CategoryItemId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.CategoryItemId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EntCategoryItemDescriptionId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.EnterpriseCategoryItemDescription.EntCategoryItemDescription)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EntCategoryDescriptionId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EnterpriseCategoryDescription.EntCategoryDescription)
        </dd>

    </dl>

    @using (Html.BeginForm()) {
        @Html.AntiForgeryToken()
        @Html.Hidden("categoryId", CategoryId)
        @Html.Hidden("searchEntGuid", SearchEntGuid)
        @Html.Hidden("categoryItemId", Model.CategoryItemId)

        <div class="form-actions no-color">
            <input type="submit" value="@Resources.DELETE_ACTION" class="btn btn-danger" /> 
            @Html.ActionLink(Resources.BACKTOLIST_ACTION, "Index", "EnterpriseCategoryItem", new { searchEntGuid = SearchEntGuid, categoryId = CategoryId }, new { })
        </div>
    }
</div>

}    